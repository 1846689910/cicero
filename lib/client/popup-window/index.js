"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var _jquery=_interopRequireDefault(require("jquery"));require("jquery-ui-dist/jquery-ui.min.js"),require("jquery-ui-dist/jquery-ui.min.css");var _fontAwesomeMin=_interopRequireDefault(require("font-awesome/css/font-awesome.min.css")),_DomElement=_interopRequireDefault(require("../element/DomElement")),_styles=require("./styles"),defaultBodyHtml=new _DomElement.default("h2").setStyle({alignSelf:"center",textAlign:"center",flex:1}).innerHTML("...Amazing Here...").toString(),PopupWindow=function(){function e(e){void 0===e&&(e={});var t=e,i=t.windowStyle,n=t.windowMaxStyle,s=t.windowMinStyle,o=t.title,l=void 0===o?"My Window":o,d=t.bodyHTML,r=void 0===d?defaultBodyHtml:d;this._opened=!1,this.isOpen=this.isOpen.bind(this),this._windowStyle=Object.assign({},_styles.windowDefaultStyle,i),this._windowMaxStyle=Object.assign({},_styles.windowDefaultMaxStyle,n),this._windowMinStyle=Object.assign({},_styles.windowDefaultMinStyle,s),this.title=l,this.bodyHtml=r,this._closeBtn=this._btnGen("CLOSE"),this._minBtn=this._btnGen("MIN"),this._maxBtn=this._btnGen("MAX"),this._btnGroup=this._btnGroupGen(this._closeBtn,this._minBtn,this._maxBtn),this._window=this._windowGen.call(this),this._bindEvents=this._bindEvents.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}var t=e.prototype;return t.isOpen=function(){return this._opened},t._setStyle=function(n,e){"object"==typeof n&&null!==n&&"object"==typeof e&&null!==e&&Object.entries(e).forEach(function(e){var t=e[0],i=e[1];return n.style[t]=i})},t._windowGen=function(){var e=new _DomElement.default("div").setStyle(this._windowStyle).get();return e.innerHTML='\n          <div style="height: 20px; text-align: center;">'+this.title+'</div>\n          <div style="height: 100%; margin: 10px; display: flex; border: 0.5px solid rgba(0, 0, 0, 0.1); flex-flow: row wrap;">\n              '+this.bodyHtml+"\n          </div>\n      ",e.appendChild(this._btnGroup),e},t._btnGen=function(t){var e;return e="CLOSE"===t?_styles.closeBtnStyle:"MIN"===t?_styles.minBtnStyle:_styles.maxBtnStyle,new _DomElement.default("i").workOnClassList(function(e){e.add(_fontAwesomeMin.default.fa),e.add(_fontAwesomeMin.default["fa-circle"]),e.add("cicero-popup-window-btn-"+t.toLowerCase())}).set("aria-hidden","true").setStyle(e).get()},t._btnGroupGen=function(){var e;return(e=new _DomElement.default("div").setStyle(_styles.btnGroupStyle)).append.apply(e,arguments).get()},t._bindEvents=function(){var t=this,i=this._window;this.isOpen()&&this._window&&(this._closeBtn.addEventListener("click",this.close,!1),this._minBtn.addEventListener("click",function(e){t._setStyle(i,t._windowMinStyle)},!1),this._maxBtn.addEventListener("click",function(e){t._setStyle(i,t._windowMaxStyle)},!1))},t.open=function(){!this.isOpen()&&this._window&&(document.body.appendChild(this._window),this._opened=!0,this._bindEvents(),(0,_jquery.default)(this._window).draggable({}).resizable({handles:"n, e, s, w, se, sw",minHeight:300,minWidth:450,maxHeight:450,maxWidth:600}))},t.close=function(){this.isOpen()&&this._window&&(document.body.removeChild(this._window),this._opened=!1)},e}();exports.default=PopupWindow;