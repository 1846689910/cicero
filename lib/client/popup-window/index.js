"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var _jquery=_interopRequireDefault(require("jquery"));require("jquery-ui-dist/jquery-ui.min.js"),require("jquery-ui-dist/jquery-ui.min.css");var _fontAwesomeMin=_interopRequireDefault(require("font-awesome/css/font-awesome.min.css")),_DomElement=_interopRequireDefault(require("../element/DomElement")),windowDefaultStyle={width:"500px",height:"350px",border:"0.5px solid rgba(0,0,0,0.2)",display:"flex",flexFlow:"column",position:"absolute",borderRadius:"10px",padding:"3px 0 0 0",background:"white",marginLeft:"-250px",marginTop:"-175px",top:"50%",left:"50%"},windowDefaultMaxStyle={width:"700px",height:"550px",marginLeft:"-350px",marginTop:"-275px"},windowDefaultMinStyle={width:"450px",height:"300px",marginLeft:"-225px",marginTop:"-150px"},PopupWindow=function(){function e(e){void 0===e&&(e={});var i=e,t=i.windowStyle,n=i.windowMaxStyle,o=i.windowMinStyle;this._opened=!1,this.isOpen=this.isOpen.bind(this),this._windowStyle=Object.assign({},windowDefaultStyle,t),this._windowMaxStyle=Object.assign({},windowDefaultMaxStyle,n),this._windowMinStyle=Object.assign({},windowDefaultMinStyle,o),this._window=this._windowGen.call(this),this._bindEvents=this._bindEvents.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}var i=e.prototype;return i.isOpen=function(){return this._opened},i._setStyle=function(n,e){"object"==typeof n&&null!==n&&"object"==typeof e&&null!==e&&Object.entries(e).forEach(function(e){var i=e[0],t=e[1];return n.style[i]=t})},i._windowGen=function(){var e=new _DomElement.default("div").setStyle(this._windowStyle).get(),i=_fontAwesomeMin.default.fa+" "+_fontAwesomeMin.default["fa-circle"];return e.innerHTML='\n          <div style="height: 20px; text-align: center;">My Window</div>\n          <div style="height: 100%; margin: 10px; display: flex; border: 0.5px solid rgba(0, 0, 0, 0.1); flex-flow: row wrap;">\n               <div><h2 style="align-self: center; text-align: center; flex: 1;">...Amazing Here ...</h2></div>\n          </div>\n          <div style="position: absolute; display: flex; flex-direction: row; width: 70px; justify-content: space-evenly; height: 20px; line-height: 20px;">\n              <i class="'+i+' close-1846689910" aria-hidden="true" style="color: red; font-size: 14px;"></i>\n              <i class="'+i+' minimize-1846689910" aria-hidden="true" style="color: #FFD662; font-size: 14px;"></i>\n              <i class="'+i+' maximize-1846689910" aria-hidden="true" style="color: #79C753; font-size: 14px;"></i>\n          </div>\n      ',e},i._bindEvents=function(){var i=this,t=this._window;this.isOpen()&&t&&(t.querySelector(".close-1846689910").addEventListener("click",this.close,!1),t.querySelector(".minimize-1846689910").addEventListener("click",function(e){i._setStyle(t,i._windowMinStyle)},!1),t.querySelector(".maximize-1846689910").addEventListener("click",function(e){i._setStyle(t,i._windowMaxStyle)},!1))},i.open=function(){!this.isOpen()&&this._window&&(document.body.appendChild(this._window),this._opened=!0,this._bindEvents(),(0,_jquery.default)(this._window).draggable({}).resizable({handles:"n, e, s, w",minHeight:300,minWidth:450,maxHeight:450,maxWidth:600}))},i.close=function(){this.isOpen()&&this._window&&(document.body.removeChild(this._window),this._opened=!1)},e}();exports.default=PopupWindow;